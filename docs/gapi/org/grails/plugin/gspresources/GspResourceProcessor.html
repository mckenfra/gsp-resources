<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
<!-- Generated by groovydoc (1.8.6) on Fri Jul 06 11:13:35 HKT 2012 -->
<title>GspResourceProcessor (Groovy Documentation)</title>
<meta name="date" content="2012-07-06">
<link href="../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
<link href="../../../../groovy.ico" type="image/x-icon" rel="icon">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="GspResourceProcessor (Groovy Documentation)";
    }
}
</script>
<noscript>
</noscript>

</head><body onload="windowTitle();" bgcolor="white">
<hr>

<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>

  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <!--<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  -->
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Groovy Documentation</b>
</EM></TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><!--<FONT SIZE="-2">
&nbsp;<A HREF="../../../../groovy/lang/ExpandoMetaClass.ExpandoMetaProperty.html" title="class in groovy.lang"><B>PREV CLASS</B></A>&nbsp;

&nbsp;<A HREF="../../../../groovy/lang/GroovyClassLoader.html" title="class in groovy.lang"><B>NEXT CLASS</B></A></FONT>--></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/grails/plugin/gspresources/GspResourceProcessor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="GspResourceProcessor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-frame.html"><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
  <A HREF="../../../../allclasses-frame.html"><B>All Classes</B></A>
</noscript>

</FONT></TD>

</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#property_summary">PROPERTY</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#prop_detail">PROPERTY</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- ========= END OF TOP NAVBAR ========= -->


<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>

<FONT SIZE="-1">
org.grails.plugin.gspresources</FONT>
<BR>

<span CLASS="ClassTitleFont">[Groovy] Class GspResourceProcessor</span></H2>
<pre><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='java.lang.Object'>java.lang.Object</a>
  <img src='../../../../inherit.gif'><a href='../../../../org/grails/plugin/resource/ResourceProcessor.html'>org.grails.plugin.resource.ResourceProcessor</a>
      <img src='../../../../inherit.gif'>org.grails.plugin.gspresources.GspResourceProcessor
</pre><hr>
<PRE>class GspResourceProcessor
extends <a href='../../../../org/grails/plugin/resource/ResourceProcessor.html'>ResourceProcessor</a>

</PRE>

<P>
 Overrides the resources plugin's ResourceProcessor, to provide additional
 features required for GSP processing
 <p>
 <ul>
 <li>Optionally delay resources processing until the bootstrap phase,
 to ensure any GSP dependencies (e.g. domain objects / other plugins) are
 fully loaded before GSP compilation starts.</li>
 
 <li>Ensure resource modules are loaded in correct order, according to
 'dependsOn' configuration settings. This ensures any <b>resources</b> your GSP
 depends on are loaded before compilation starts.</li>
 
 <li>Automatically detect the target file type of the GSP by the filename
 extension. E.g. myfile.js.gsp will be automatically detected as being
 a javascript resource</li>
 </ul>
 
 Note that the (optional) delaying of resources processing until bootstrap is
 achieved by temporarily blocking the call to reloadAll(),
 which the resources plugin calls on server startup. When the gsp-resources
 plugin loads, it either allows the reloadAll() to go ahead right-away,
 or delays it until the bootstrap phase, depending on the configuration
 settings.
 <p>
 Configuration setting in <code>Config.groovy</code>:
 <p>
 <blockquote>
 <code>grails.resources.processing.startup = "default" | "delayed" | false</code>
 </blockquote>
 <p>
 Allowed values:
 <table border="1" cellpadding="4" cellspacing="0">
 <col width="25%" />
 <col width="75%" />
 <thead>
 <tr><th>Value</th><th>Meaning</th></tr>
 </thead>
 <tbody>
 <tr><td><code>"default"</code></td><td>No delay in resources processing - i.e. keeps same behaviour as resources plugin</td></tr>
 <tr><td><code>"delayed"</code></td><td>Resources processing delayed until bootstrap phase</td></tr>
 <tr><td><code>false</code></td><td>Resources processing is not automatically started during server startup</td></tr>
 </tbody>
 </table>
 <p>
 Note that if you want to start resources processing manually, you should set the
 'startup' configuration setting to false, and then you can trigger startup
 of resources processing by doing:
 <pre> 
 class MyClass {
   // Automatically injected
   def grailsResourcesProcessor
 
   def myMethod() {
     // Start resources processing
     grailsResourcesProcessor.start()
   }
 }
 </pre>
 <DL><DT><B>Authors:</B></DT><DD>Francis McKenzie</DD></DL>
</P>
<hr>


<!-- =========== NESTED CLASS SUMMARY =========== -->

<A NAME="nested_summary"><!-- --></A>


<!-- =========== ENUM CONSTANT SUMMARY =========== -->

<A NAME="enum_constant_summary"><!-- --></A>


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Field Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;boolean</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#blocked">blocked</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;boolean</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#firstReloadAllDone">firstReloadAllDone</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- =========== PROPERTY SUMMARY =========== -->

<A NAME="property_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Property Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>GspResourceLocator</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#gspResourceLocator">gspResourceLocator</A></B></CODE>
            <BR>
            <P>Injected - for finding the underlying GSP file</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>GspResourcePageRenderer</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#gspResourcePageRenderer">gspResourcePageRenderer</A></B></CODE>
            <BR>
            <P>Injected - for rendering the GSP</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#log">log</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#startup">startup</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- =========== ELEMENT SUMMARY =========== -->



<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#D5D5FF" CLASS="TableHeadingColor">
    <TD COLSPAN=2><FONT SIZE="+2">
    <B>Constructor Summary</B></FONT></TD>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD>
            <CODE><B><a href="#GspResourceProcessor()">GspResourceProcessor</a></B>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2" CLASS="ClassHeadingFont">
    <B>Method Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#addSyntheticGspResource(ResourceMeta, org.springframework.core.io.Resource)">addSyntheticGspResource</a></b>(<a href='../../../../ResourceMeta.html'>ResourceMeta</a> resource, <a href='http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/core/io/Resource.html' title='Resource'>Resource</a> gsp)</CODE>
            <BR>
            <P>Delegates the specified GSP resource to a synthetic resource that does
 the actual rendering.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#afterPropertiesSet()">afterPropertiesSet</a></b>()</CODE>
            <BR>
            <P>Reads 'processing.startup' configuration setting, then calls superclass method</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#block()">block</a></b>()</CODE>
            <BR>
            <P>Block the reloadAll() function.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../org/grails/plugin/gspresources/GspResourceMeta.html'>GspResourceMeta</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#findGspResource(ResourceMeta)">findGspResource</a></b>(<a href='../../../../ResourceMeta.html'>ResourceMeta</a> resource)</CODE>
            <BR>
            <P>Returns the GspResourceMeta for the rendered output of
 the specified GSP resource - if it exists.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getDefaultSettingsForURI(def, def)">getDefaultSettingsForURI</a></b>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> uri, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> typeOverride = null)</CODE>
            <BR>
            <P>The resources plugin doesn't recognise resources ending with '.gsp'.
 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getResourceTypeFromUri(java.lang.String)">getResourceTypeFromUri</a></b>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/String.html' title='String'>String</a> uri)</CODE>
            <BR>
            <P>Gets the resource type for the specified uri.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#isDebugMode(javax.servlet.ServletRequest)">isDebugMode</a></b>(<a href='http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html' title='ServletRequest'>ServletRequest</a> request)</CODE>
            <BR>
            <P>Special logic to handle the case where debugging is enabled
 but the request is for a GSP-rendered resource.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#isGeneratedFromGsp(java.lang.String)">isGeneratedFromGsp</a></b>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/String.html' title='String'>String</a> uri)</CODE>
            <BR>
            <P>Returns true if the specified URI is for a GSP-generated resource.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#isStartOnPluginBootstrap()">isStartOnPluginBootstrap</a></b>()</CODE>
            <BR>
            <P>Checks configuration to see if we want to start
 resources processing during bootstrap of gsp-resources plugin
 itself.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#isStartOnPluginLoad()">isStartOnPluginLoad</a></b>()</CODE>
            <BR>
            <P>Checks configuration to see if we want to start
 resources processing at plugin load (i.e. maintain default behaviour
 of resources plugin).</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#prepareResourceBatch(ResourceProcessorBatch)">prepareResourceBatch</a></b>(<a href='../../../../ResourceProcessorBatch.html'>ResourceProcessorBatch</a> batch)</CODE>
            <BR>
            <P>The resources plugin for some reason does not apply the module dependency
 ordering to the resources batch when reloading modules.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#processLegacyResource(def, def)">processLegacyResource</a></b>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> request, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> response)</CODE>
            <BR>
            <P>Special logic to handle the case where debugging is enabled
 but the request is for a GSP-rendered resource.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#processModernResource(def, def)">processModernResource</a></b>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> request, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> response)</CODE>
            <BR>
            <P>Special logic to handle the case where debugging is enabled
 but the request is for a GSP-rendered resource.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#reloadAll()">reloadAll</a></b>()</CODE>
            <BR>
            <P>Checks if blocked or not - if not, calls the superclass
 reloadAll().</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/String.html' title='String'>String</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#renderGsp(org.springframework.core.io.Resource)">renderGsp</a></b>(<a href='http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/core/io/Resource.html' title='Resource'>Resource</a> gsp)</CODE>
            <BR>
            <P>Performs the rendering of the specified GSP, and returns the output.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#serveGsp(def, def)">serveGsp</a></b>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> request, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> response)</CODE>
            <BR>
            <P>Reads the rendered GSP from the file system, and writes it to the response.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#serveResource(javax.servlet.ServletRequest, javax.servlet.ServletResponse, java.io.File, java.lang.String, java.lang.Integer, java.lang.Long)">serveResource</a></b>(<a href='http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html' title='ServletRequest'>ServletRequest</a> request, <a href='http://docs.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html' title='ServletResponse'>ServletResponse</a> response, <a href='http://docs.oracle.com/javase/6/docs/api/java/io/File.html' title='File'>File</a> file, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/String.html' title='String'>String</a> contentType = null, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html' title='Integer'>Integer</a> contentLength = null, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html' title='Long'>Long</a> lastModified = null)</CODE>
            <BR>
            <P>Reads the resource from the file system, and writes it to the response.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#start()">start</a></b>()</CODE>
            <BR>
            <P>Start resources processing for the first time. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#unblock()">unblock</a></b>()</CODE>
            <BR>
            <P>Unblock the reloadAll() function</P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<P>

<!-- ============ ENUM CONSTANT DETAIL ========== -->

<A NAME="enum_constant_detail"><!-- --></A>


<!-- =========== FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Field Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="blocked"><!-- --></A><H3>blocked</H3>
        <PRE>protected&nbsp;boolean <B>blocked</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="firstReloadAllDone"><!-- --></A><H3>firstReloadAllDone</H3>
        <PRE>protected&nbsp;boolean <B>firstReloadAllDone</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- =========== PROPERTY DETAIL =========== -->

<A NAME="prop_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Property Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="gspResourceLocator"><!-- --></A><H3>gspResourceLocator</H3>
        <PRE>GspResourceLocator <B>gspResourceLocator</B></PRE>
        <DL>
        <DD> Injected - for finding the underlying GSP file
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="gspResourcePageRenderer"><!-- --></A><H3>gspResourcePageRenderer</H3>
        <PRE>GspResourcePageRenderer <B>gspResourcePageRenderer</B></PRE>
        <DL>
        <DD> Injected - for rendering the GSP
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="log"><!-- --></A><H3>log</H3>
        <PRE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> <B>log</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="startup"><!-- --></A><H3>startup</H3>
        <PRE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> <B>startup</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- =========== ELEMENT DETAIL =========== -->

<A NAME="element_detail"><!-- --></A>


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Constructor Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="GspResourceProcessor()"><!-- --></A><H3>
        GspResourceProcessor</H3>
        <PRE><B>GspResourceProcessor</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Method Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="addSyntheticGspResource(ResourceMeta, org.springframework.core.io.Resource)"><!-- --></A><H3>
        addSyntheticGspResource</H3>
        <PRE>protected&nbsp;void <B>addSyntheticGspResource</B>(<a href='../../../../ResourceMeta.html'>ResourceMeta</a> resource, <a href='http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/core/io/Resource.html' title='Resource'>Resource</a> gsp)</PRE>
        <DL>
        <DD> Delegates the specified GSP resource to a synthetic resource that does
 the actual rendering.
     <DL><DT><B>Parameters:</B></DT><DD><code>resource</code> -  The original GSP resource</DD><DD><code>gsp</code> -  The GSP resource file itself</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="afterPropertiesSet()"><!-- --></A><H3>
        afterPropertiesSet</H3>
        <PRE>@Override
void <B>afterPropertiesSet</B>()</PRE>
        <DL>
        <DD> Reads 'processing.startup' configuration setting, then calls superclass method
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="block()"><!-- --></A><H3>
        block</H3>
        <PRE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> <B>block</B>()</PRE>
        <DL>
        <DD> Block the reloadAll() function.
 
 Note this is blocked by default. Note also that once reloadAll()
 has run once, blocking no longer has any effect.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="findGspResource(ResourceMeta)"><!-- --></A><H3>
        findGspResource</H3>
        <PRE><a href='../../../../org/grails/plugin/gspresources/GspResourceMeta.html'>GspResourceMeta</a> <B>findGspResource</B>(<a href='../../../../ResourceMeta.html'>ResourceMeta</a> resource)</PRE>
        <DL>
        <DD> Returns the GspResourceMeta for the rendered output of
 the specified GSP resource - if it exists.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getDefaultSettingsForURI(def, def)"><!-- --></A><H3>
        getDefaultSettingsForURI</H3>
        <PRE>@Override
<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> <B>getDefaultSettingsForURI</B>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> uri, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> typeOverride = null)</PRE>
        <DL>
        <DD> The resources plugin doesn't recognise resources ending with '.gsp'.
 This method tries to find the target resources type by first stripping
 off the '.gsp' (if it exists). This should work for GSP resource files
 named like myscript.js.gsp
 <p>
 Note that if all else fails, you can use the 'attrs' resources
 configuration setting to manually tell the resources plugin
 the type of the compiled resource. 
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getResourceTypeFromUri(java.lang.String)"><!-- --></A><H3>
        getResourceTypeFromUri</H3>
        <PRE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> <B>getResourceTypeFromUri</B>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/String.html' title='String'>String</a> uri)</PRE>
        <DL>
        <DD> Gets the resource type for the specified uri.
 <p>
 Note that this method treats some file types as javascript resources,
 since the Resources plugin will not recognise them otherwise. These 
 include: html, xhtml, xml, csv
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="isDebugMode(javax.servlet.ServletRequest)"><!-- --></A><H3>
        isDebugMode</H3>
        <PRE>@Override
boolean <B>isDebugMode</B>(<a href='http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html' title='ServletRequest'>ServletRequest</a> request)</PRE>
        <DL>
        <DD> Special logic to handle the case where debugging is enabled
 but the request is for a GSP-rendered resource.
 <p>
 Ordinarily, in debug mode all resources are served directly from
 the file system, without any processing. But for GSP resources,
 we DO need to do some processing, because the rendered GSP file
 is not located within the app itself, but in a temporary directory on
 the file system. We have to explicitly write the rendered GSP file
 contents to the response.
 <p>
 So we override this method in order to tell the resources plugin
 NOT to use debug mode for GSP resources.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="isGeneratedFromGsp(java.lang.String)"><!-- --></A><H3>
        isGeneratedFromGsp</H3>
        <PRE>boolean <B>isGeneratedFromGsp</B>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/String.html' title='String'>String</a> uri)</PRE>
        <DL>
        <DD> Returns true if the specified URI is for a GSP-generated resource.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="isStartOnPluginBootstrap()"><!-- --></A><H3>
        isStartOnPluginBootstrap</H3>
        <PRE>boolean <B>isStartOnPluginBootstrap</B>()</PRE>
        <DL>
        <DD> Checks configuration to see if we want to start
 resources processing during bootstrap of gsp-resources plugin
 itself.
 
 Note that you may want to explicitly start resources processing
 yourself during your project's bootstrap (or later). This configuration
 allows you to do that.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="isStartOnPluginLoad()"><!-- --></A><H3>
        isStartOnPluginLoad</H3>
        <PRE>boolean <B>isStartOnPluginLoad</B>()</PRE>
        <DL>
        <DD> Checks configuration to see if we want to start
 resources processing at plugin load (i.e. maintain default behaviour
 of resources plugin).
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="prepareResourceBatch(ResourceProcessorBatch)"><!-- --></A><H3>
        prepareResourceBatch</H3>
        <PRE>@Override
void <B>prepareResourceBatch</B>(<a href='../../../../ResourceProcessorBatch.html'>ResourceProcessorBatch</a> batch)</PRE>
        <DL>
        <DD> The resources plugin for some reason does not apply the module dependency
 ordering to the resources batch when reloading modules.
 <p>
 This method first reorders the resource batch into the correct ordering,
 then calls the superclass method.
 <p>
 Note that ordering is important to GSP resources, because we have to
 ensure the resources the GSP depends on have been processed before the
 GSP itself! 
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="processLegacyResource(def, def)"><!-- --></A><H3>
        processLegacyResource</H3>
        <PRE>@Override
boolean <B>processLegacyResource</B>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> request, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> response)</PRE>
        <DL>
        <DD> Special logic to handle the case where debugging is enabled
 but the request is for a GSP-rendered resource.
 <p>
 Ordinarily, in debug mode all resources are served directly from
 the file system, without any processing. But for GSP resources,
 we DO need to do some processing, because the rendered GSP file
 is not located within the app itself, but in a temporary directory on
 the file system. We have to explicitly write the rendered GSP file
 contents to the response.
 <p>
 So we override this method in order to serve the rendered file,
 but ONLY in debug mode. In non-debug mode, the resources plugin
 handles everything as normal.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="processModernResource(def, def)"><!-- --></A><H3>
        processModernResource</H3>
        <PRE>@Override
void <B>processModernResource</B>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> request, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> response)</PRE>
        <DL>
        <DD> Special logic to handle the case where debugging is enabled
 but the request is for a GSP-rendered resource.
 <p>
 Ordinarily, in debug mode all resources are served directly from
 the file system, without any processing. But for GSP resources,
 we DO need to do some processing, because the rendered GSP file
 is not located within the app itself, but in a temporary directory on
 the file system. We have to explicitly write the rendered GSP file
 contents to the response.
 <p>
 So we override this method in order to serve the rendered file,
 but ONLY in debug mode. In non-debug mode, the resources plugin
 handles everything as normal.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="reloadAll()"><!-- --></A><H3>
        reloadAll</H3>
        <PRE>@Override
void <B>reloadAll</B>()</PRE>
        <DL>
        <DD> Checks if blocked or not - if not, calls the superclass
 reloadAll().
 
 If the first reloadAll() has already been done, then blocking has no effect.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="renderGsp(org.springframework.core.io.Resource)"><!-- --></A><H3>
        renderGsp</H3>
        <PRE>protected&nbsp;<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/String.html' title='String'>String</a> <B>renderGsp</B>(<a href='http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/core/io/Resource.html' title='Resource'>Resource</a> gsp)</PRE>
        <DL>
        <DD> Performs the rendering of the specified GSP, and returns the output.
     <DL><DT><B>Parameters:</B></DT><DD><code>gsp</code> -  The GSP resource itself</DD></DL><DL><DT><B>Returns:</B></DT><DD>Output of rendering as String</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="serveGsp(def, def)"><!-- --></A><H3>
        serveGsp</H3>
        <PRE>protected&nbsp;void <B>serveGsp</B>(<a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> request, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> response)</PRE>
        <DL>
        <DD> Reads the rendered GSP from the file system, and writes it to the response.
     <DL><DT><B>Parameters:</B></DT><DD><code>request</code> -  The servlet request</DD><DD><code>response</code> -  The servlet response to which the resource contents will be written</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="serveResource(javax.servlet.ServletRequest, javax.servlet.ServletResponse, java.io.File, java.lang.String, java.lang.Integer, java.lang.Long)"><!-- --></A><H3>
        serveResource</H3>
        <PRE>protected&nbsp;void <B>serveResource</B>(<a href='http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html' title='ServletRequest'>ServletRequest</a> request, <a href='http://docs.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html' title='ServletResponse'>ServletResponse</a> response, <a href='http://docs.oracle.com/javase/6/docs/api/java/io/File.html' title='File'>File</a> file, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/String.html' title='String'>String</a> contentType = null, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html' title='Integer'>Integer</a> contentLength = null, <a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html' title='Long'>Long</a> lastModified = null)</PRE>
        <DL>
        <DD> Reads the resource from the file system, and writes it to the response.
     <DL><DT><B>Parameters:</B></DT><DD><code>request</code> -  The servlet request</DD><DD><code>response</code> -  The servlet response to which the resource contents will be written</DD><DD><code>file</code> -  The file to serve</DD><DD><code>contentType</code> -  The content type of the resource</DD><DD><code>contentLength</code> -  The content length of the resource; defaults to file's contentLength</DD><DD><code>lastModified</code> -  The lastModified of the resource; defaults to file's lastModified</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="start()"><!-- --></A><H3>
        start</H3>
        <PRE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> <B>start</B>()</PRE>
        <DL>
        <DD> Start resources processing for the first time. If already run,
 then has no effect.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="unblock()"><!-- --></A><H3>
        unblock</H3>
        <PRE><a href='http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html' title='def'>def</a> <B>unblock</B>()</PRE>
        <DL>
        <DD> Unblock the reloadAll() function
     
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ========= END OF CLASS DATA ========= -->
<p>Groovy Documentation</p>
<hr>

</body>
</html>
